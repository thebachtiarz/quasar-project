import * as mobile from 'mobile-device-detect'
export default function (retRequest, retArray = false) {
  var arrDevice = {}
  var strDevice = ''
  arrDevice.osName = mobile.osName
  arrDevice.osVersion = mobile.osVersion
  if (mobile.isMobile) {
    if (mobile.isBrowser) {
      arrDevice.browserName = mobile.browserName
      arrDevice.browserVersion = mobile.browserVersion
    } else {
      arrDevice.mobileVendor = mobile.mobileVendor
      arrDevice.mobileModel = mobile.mobileModel
    }
  } else {
    arrDevice.browserName = mobile.browserName
    arrDevice.browserVersion = mobile.browserVersion
  }
  arrDevice.getUA = mobile.getUA
  if (retRequest === 'login') {
    strDevice = `${arrDevice.osName}-${arrDevice.osVersion}`
  }
  if (retRequest === 'full') {
    strDevice = Object.values(arrDevice).join('|')
  }
  if (retArray) {
    return { device: strDevice, data: arrDevice }
  } else {
    return { device: strDevice, data: [] }
  }
}
